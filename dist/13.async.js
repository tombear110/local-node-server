(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"xl+3":function(e,a,t){"use strict";t.r(a);t("jkjv");var n,r,o,i,d=t("5V8d"),l=(t("2J6m"),t("uHAy")),c=(t("yh/O"),t("KzDW")),s=(t("XNzj"),t("G5Xh")),p=(t("Kn1l"),t("mxW8")),u=(t("QxUn"),t("nicQ")),m=t("zAuD"),h=t.n(m),g=(t("cXFk"),t("uiyS")),f=t("43Yg"),y=t.n(f),D=t("/tCh"),b=t.n(D),v=t("scpF"),k=t.n(v),x=t("O/V9"),C=t.n(x),S=t("8aBX"),w=t.n(S),E=(t("tBAj"),t("HoGm")),z=(t("cW9H"),t("VJ/K")),M=(t("5jMC"),t("2OcF")),N=t("i9FB"),Y=t.n(N),P=t("84xf"),I=(t("uJMD"),t("7Qib")),B=t("O2mq"),F=t.n(B),R=t("JqWM"),O=t.n(R),J=(M["a"].MonthPicker,M["a"].RangePicker),T=(M["a"].WeekPicker,z["a"].confirm,E["a"].Item),j="YYYY-MM-DD",V=(n=Object(P["c"])(function(e){var a=e.rule,t=e.loading,n=e.dataDashboard;return{rule:a,dataDashboard:n,loading:t.models.rule}}),r=E["a"].create(),n(o=r((i=function(e){function a(){var e,t;y()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=k()(this,(e=C()(a)).call.apply(e,[this].concat(r))),t.state={visible:!1,inputVal:null,modalType:"edit",tab:1,searchForm:{dateRange:"",deviceCode:""},columns:[{title:"\u5e8f\u53f7",dataIndex:"num",key:"num"},{title:"\u65f6\u95f4",dataIndex:"updateDate",key:"updateDate",render:function(e,a){return Y.a.createElement("div",null,a.updateDate?F()(a.updateDate).format("YYYY-MM-DD"):"")}},{title:"\u8bbe\u5907\u7f16\u53f7",dataIndex:"deviceCode",key:"deviceCode"},{title:"\u6279\u6b21",dataIndex:"dataBatchCode",key:"dataBatchCode"},{title:"\u6570\u636e\u7c7b\u578b",dataIndex:"dataPurposeText",key:"dataPurposeText"},{title:"\u5f02\u5e38\u6570",dataIndex:"exceptionNumber",key:"exceptionNumber",render:function(e,a){return Y.a.createElement("div",{style:a.exceptionNumber>0?{color:"red"}:""},a.exceptionNumber)}},{title:"\u72b6\u6001",dataIndex:"flowStatusDesc",key:"flowStatusDesc"},{title:"\u64cd\u4f5c",key:"function",dataIndex:"function",render:function(e,a){return Y.a.createElement("span",null,[{type:"primary",text:"\u8be6\u60c5",icon:"snippets",mark:"detail"},{type:"danger",shape:"circle",text:"\u5ba1\u6838",icon:"check",mark:"examine"}].map(function(e){return Y.a.createElement(g["a"],{onClick:function(n){n.preventDefault(),t.showFunctionModal(a.key,e.mark,a)},type:e.type,size:"small",key:e.type,icon:e.icon,shape:e.circle,style:{marginRight:"5px"},disabled:3!==parseInt(a.flowStatus)&&"examine"===e.mark},e.text)}))}}],data:[],propsData:{},deviceOptions:[{value:1,label:"\u8bbe\u59071"},{value:2,label:"\u8bbe\u59072"},{value:3,label:"\u8bbe\u59073"}],status:0,formLayout:"horizontal"},t.getTableList=function(){var e=t.props.dispatch;e({type:"dataDashboard/tableData",payload:{pageNum:1,pageSize:10}})},t.showFunctionModal=function(e,a,n){t.props.dispatch;switch(a){case"detail":I["f"].push({pathname:"/DataDashboard/detail",query:{dataBatchCode:n.dataBatchCode,deviceCode:n.deviceCode,id:n.id,flowStatus:n.flowStatus}});break;case"examine":var r=F()(n.updateDate).format("YYYY-MM-DD");I["f"].push({pathname:"/DataDashboard/ProfessorApprove",query:{dataBatchCode:n.dataBatchCode,deviceCode:n.deviceCode,id:n.id,flowStatus:n.flowStatus,expertName:n.expertName,updateDate:r}});break;default:console.log("eeee")}},t.onSearch=function(e){e.preventDefault();var a=t.props.dispatch;t.props.form.validateFields(function(e,t){if(!e){var n=t.dateRange?F()(t.dateRange[0]).format(j):"",r=t.dateRange?F()(t.dateRange[1]).format(j):"";a({type:"dataDashboard/search",payload:{deviceCode:t.deviceCode,startDate:n,endDate:r,pageNum:1,pageSize:20}})}})},t.changePage=function(e,a){var n=t.props.dispatch;n({type:"dataDashboard/tableData",payload:{pageNum:e,pageSize:a}})},t.changePageSize=function(e,a){var n=t.props.dispatch;n({type:"dataDashboard/tableData",payload:{pageNum:e,pageSize:a}})},t}return w()(a,e),b()(a,[{key:"componentDidMount",value:function(){this.getTableList()}},{key:"render",value:function(){var e={labelCol:{span:7},wrapperCol:{span:17}},a=this.state.searchForm,t=this.props.form.getFieldDecorator,n=Y.a.createElement(E["a"],{onSubmit:this.onSearch},Y.a.createElement(s["a"],{gutter:20},Y.a.createElement(u["a"],{span:8},Y.a.createElement(T,h()({},e,{label:"\u65f6\u95f4\u8303\u56f4"}),t("dateRange",{initialValue:a.dateRange})(Y.a.createElement(J,null)))),Y.a.createElement(u["a"],{span:8},Y.a.createElement(T,h()({},e,{label:"\u8bbe\u5907\u7f16\u53f7"}),t("deviceCode",{initialValue:a.deviceCode})(Y.a.createElement(p["a"],null)))),Y.a.createElement(u["a"],{span:8},Y.a.createElement(E["a"].Item,null,Y.a.createElement(g["a"],{style:{marginRight:10},icon:"search",type:"",htmlType:"submit"},"\u67e5\u8be2"))))),r=this.props.dataDashboard.tableData,o=this.props.dataDashboard.pageNation,i=this.props.dataDashboard.total||0;return Y.a.createElement("div",{className:O.a.tableWrap},Y.a.createElement("h1",null,Y.a.createElement(c["a"],{type:"schedule"})," \u6211\u7684\u4efb\u52a1\uff08",i,"\u6761\uff09"),Y.a.createElement(l["a"],{style:{marginBottom:20}}),n,Y.a.createElement(d["a"],{columns:this.state.columns,dataSource:r,rowKey:function(e){return e.id},pagination:{showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30"],pageSize:o.pageSize,current:o.current,total:o.total,showTotal:function(){return"\u5171".concat(o.total,"\u6761")},onChange:this.changePage,onShowSizeChange:this.changePageSize,hideOnSinglePage:o.disabled}}))}}]),a}(N["PureComponent"]),o=i))||o)||o);a["default"]=V}}]);