(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{b7sj:function(e,t,a){e.exports={card:"card___2a9Sc",heading:"heading___29pME",steps:"steps___w6Spq",errorIcon:"errorIcon___15tKE",errorPopover:"errorPopover___1ADyt",errorListItem:"errorListItem___3bl_I",errorField:"errorField___-00Vy",editable:"editable___29DXz",advancedForm:"advancedForm___6bSWl",optional:"optional___3PPHi",isShow:"isShow___HF5lh",isHidden:"isHidden___3d8yo",suffix:"suffix___1uKka"}},"g+kl":function(e,t,a){"use strict";a.r(t);a("cX3t");var l,r,i,n,o=a("ZwuY"),s=(a("GeBB"),a("u/VT")),d=(a("F2mP"),a("EcMF")),p=(a("XNzj"),a("G5Xh")),c=(a("QxUn"),a("nicQ")),m=(a("Kn1l"),a("mxW8")),u=a("zAuD"),f=a.n(u),y=(a("viQI"),a("vD7q")),h=(a("cXFk"),a("uiyS")),v=(a("2J6m"),a("uHAy")),E=(a("yh/O"),a("KzDW")),_=(a("cW9H"),a("VJ/K")),g=a("mK77"),b=a.n(g),C=a("43Yg"),S=a.n(C),B=a("/tCh"),D=a.n(B),F=a("scpF"),T=a.n(F),k=a("O/V9"),w=a.n(k),x=a("8aBX"),L=a.n(x),O=(a("QW7B"),a("y6mQ")),I=(a("tBAj"),a("HoGm")),V=a("i9FB"),M=a.n(V),U=a("84xf"),N=a("DklF"),z=(a("b7sj"),I["a"].Item),q=O["a"].Option,j=(l=Object(U["c"])(function(e){var t=e.dataUpload;e.loading;return{dataUpload:t}}),r=I["a"].create(),l(i=r((n=function(e){function t(){var e,a;S()(this,t);for(var l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return a=T()(this,(e=w()(t)).call.apply(e,[this].concat(r))),a.state={form:{file:"",deviceCode:"",testMethodId:"",operateType:!1,modelName:"",model:""},propsData:{},fileList:[]},a.changeOperateType=function(e){a.setState({form:b()({},a.state.form,{operateType:e.target.value})})},a.getTestMethodOptions=function(){var e=a.props.dispatch;e({type:"dataUpload/testMethodOptions",payload:{}})},a.handleSubmit=function(e){var t=a.props,l=t.dispatch,r=t.form;e.preventDefault(),r.validateFieldsAndScroll(function(e,t){var i=a.state.fileList;if(!e){var n={};n=t.operateType?{file:i[0].originFileObj,deviceCode:t.deviceCode,model:a.state.form.model,operateType:t.operateType}:{file:i[0].originFileObj,deviceCode:t.deviceCode,model:a.state.form.model,operateType:t.operateType,outBoundary:parseInt(t.outBoundary),inBoundary:parseInt(t.inBoundary)},l({type:"dataUpload/offlineDataUpload",payload:n}),r.resetFields(),a.setState({fileList:[]})}})},a.fileChange=function(e){var t=e.file,l=e.fileList;"uploading"===t.status&&a.setState({fileList:l})},a.handleBeforeUpload=function(e,t){var l=0===a.state.fileList.length;if(!l)return _["a"].error({title:"\u5355\u6b21\u53ea\u80fd\u4e0a\u4f20\u4e00\u4e2a\u6587\u4ef6"}),!1;var r=-1!==e.type.indexOf("zip");if(!r)return _["a"].error({title:"\u53ea\u80fd\u4e0a\u4f20zip\u683c\u5f0f\u6587\u4ef6"}),!1;var i=e.size/1024/1024<2;return i?r&&i&&l:(_["a"].error({title:"\u8d85\u8fc710M\u9650\u5236\uff0c\u4e0d\u5141\u8bb8\u4e0a\u4f20~"}),!1)},a.fileRemove=function(e){var t=a.state.fileList;a.setState({fileList:t.filter(function(t){return t.uid!==e.uid})})},a.clickDeviceCode=function(){var e=a.props.dispatch;e({type:"dataUpload/search",payload:{pageNum:1,pageSize:10}}),a.setState({propsData:{visible:!0,key:"158"}})},a.onSure=function(e){var t=JSON.parse(JSON.stringify(e));a.setState({propsData:{visible:!1},form:b()({},a.state.form,{deviceCode:t.deviceCode,modelName:t.modelName,model:t.model})})},a.onCancel=function(){a.setState({propsData:{visible:!1}})},a}return L()(t,e),D()(t,[{key:"componentDidMount",value:function(){this.getTestMethodOptions()}},{key:"render",value:function(){var e=this.state.form,t=this.props.form,a=t.getFieldDecorator,l=(t.getFieldValue,this.props.dataUpload.testMethodList),r={labelCol:{span:5},wrapperCol:{span:15}};return M.a.createElement("div",{style:{width:"720px"}},M.a.createElement("h1",null,M.a.createElement(E["a"],{type:"upload"})," \u6570\u636e\u4e0a\u4f20"),M.a.createElement(v["a"],{style:{marginBottom:20}}),M.a.createElement(I["a"],{onSubmit:this.handleSubmit},M.a.createElement(z,f()({},r,{label:"\u76d1\u6d4b\u6570\u636e"}),a("file",{rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],initialValue:e.file})(M.a.createElement("div",{style:{display:"flex"}},M.a.createElement(y["a"],{action:"\u8def\u5f84",beforeUpload:this.handleBeforeUpload,onChange:this.fileChange,onRemove:this.fileRemove,fileList:this.state.fileList},M.a.createElement(h["a"],null,M.a.createElement(E["a"],{type:"upload"}),"\u4e0a\u4f20\u6587\u4ef6")),M.a.createElement("span",{style:{marginLeft:"15px"}},"\u4ec5\u652f\u6301zip\u683c\u5f0f")))),M.a.createElement(z,f()({},r,{label:"\u8bbe\u5907\u7f16\u53f7"}),M.a.createElement(p["a"],{gutter:8},M.a.createElement(c["a"],{span:20},a("deviceCode",{rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],initialValue:e.deviceCode})(M.a.createElement(m["a"],{disabled:!0,placeholder:"\u70b9\u51fb\u9009\u62e9\u8f93\u5165\u8bbe\u5907\u7f16\u53f7\u3001\u8bbe\u5907\u578b\u53f7"}))),M.a.createElement(c["a"],{span:4},M.a.createElement(h["a"],{onClick:this.clickDeviceCode},"\u9009\u62e9")))),M.a.createElement(z,f()({},r,{label:"\u8bbe\u5907\u578b\u53f7"}),M.a.createElement(p["a"],{gutter:8},M.a.createElement(c["a"],{span:20},a("modelName",{rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],initialValue:e.modelName})(M.a.createElement(m["a"],{disabled:!0}))))),M.a.createElement(z,f()({},r,{label:"\u68c0\u6d4b\u65b9\u6cd5"}),a("testMethodId",{rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],initialValue:e.testMethodId})(M.a.createElement(O["a"],null,l.map(function(e,t){return M.a.createElement(q,{key:t,value:e.id},e.name)})))),M.a.createElement(z,f()({},r,{label:M.a.createElement("span",null,"\u6570\u636e\u7c7b\u578b",M.a.createElement("em",null,M.a.createElement(d["a"],{title:"\u9009\u62e9\u6807\u51c6\u6570\u636e\u65f6\u663e\u793a\u5185\u5916\u6807\u6d53\u5ea6\uff0c\u9009\u62e9\u68c0\u6d4b\u6570\u636e\u65f6\u9690\u85cf\u5185\u5916\u6807"},M.a.createElement(E["a"],{type:"question-circle",style:{margin:"0 5px"}}))))}),a("operateType",{rules:[{required:!0,message:"\u5fc5\u586b\u9879"}],initialValue:e.operateType})(M.a.createElement(s["a"].Group,{onChange:this.changeOperateType},M.a.createElement(s["a"],{value:!0},"\u76d1\u6d4b\u6570\u636e"),M.a.createElement(s["a"],{value:!1},"\u6821\u6b63\u6570\u636e")))),M.a.createElement(z,f()({style:!0===e.operateType?{display:"none"}:{display:"block"}},r,{label:"\u9884\u8bbe\u5185\u6807\u6d53\u5ea6/ppb"}),a("inBoundary",{initialValue:e.inBoundary})(M.a.createElement(o["a"],{style:{width:"100%"},placeholder:"\u5355\u4f4d\uff1appb",min:0,max:300}))),M.a.createElement(z,f()({style:!0===e.operateType?{display:"none"}:{display:"block"}},r,{label:"\u9884\u8bbe\u5916\u6807\u6d53\u5ea6"}),a("outBoundary",{initialValue:e.outBoundary})(M.a.createElement(o["a"],{style:{width:"100%"},placeholder:"\u5355\u4f4d\uff1appb",min:0,max:300}))),M.a.createElement(I["a"].Item,null,M.a.createElement("div",{style:{textAlign:"center"}},M.a.createElement(h["a"],{type:"primary",htmlType:"submit",className:"login-form-button"},"\u4e0a\u4f20")))),M.a.createElement(N["default"],{data:this.state.propsData,onSure:this.onSure,onCancel:this.onCancel}))}}]),t}(V["PureComponent"]),i=n))||i)||i);t["default"]=j}}]);