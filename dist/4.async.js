(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{Y4QB:function(e,t,a){"use strict";a.r(t);var r=a("mK77"),n=a.n(r),s=(a("NXoX"),a("pm8W")),c=a("Ico4"),u=a.n(c),p=a("Nlzp");t["default"]={namespace:"lesseeDevice",state:{tableData:[],deviceManufacturerList:[],testMethodList:[],modelList:[],pageNation:{pageSize:10,total:"",current:1}},subscriptions:{},effects:{deviceManufacturerOptions:u.a.mark(function e(t,a){var r,n,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,a.select,e.next=4,r(p["d"].list);case 4:return s=e.sent,e.next=7,n({type:"updateSate",payload:{deviceManufacturerList:s.data.records}});case 7:case"end":return e.stop()}},e)}),testMethodOptions:u.a.mark(function e(t,a){var r,n,s;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.payload,r=a.call,n=a.put,a.select,e.next=4,r(p["f"].list);case 4:return s=e.sent,e.next=7,n({type:"updateSate",payload:{testMethodList:s.data.records}});case 7:case"end":return e.stop()}},e)}),modelOptions:u.a.mark(function e(t,a){var r,n,s,c;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,a.select,e.next=4,n(p["e"].getListbyManufacturerId,r);case 4:return c=e.sent,e.next=7,s({type:"updateSate",payload:{modelList:c.data.records}});case 7:case"end":return e.stop()}},e)}),postForm:u.a.mark(function e(t,a){var r,n,c,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,a.select,e.next=4,n(p["c"].add,r);case 4:if(o=e.sent,2e3!==o.code){e.next=11;break}return s["a"].success("\u64cd\u4f5c\u6210\u529f"),e.next=9,c({type:"tableData",payload:{pageNum:1,pageSize:10}});case 9:e.next=12;break;case 11:s["a"].error(o.message);case 12:case"end":return e.stop()}},e)}),updateForm:u.a.mark(function e(t,a){var r,n,c,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,a.select,e.next=4,n(p["c"].update,r);case 4:if(o=e.sent,console.log("postResponse",o),2e3!==o.code){e.next=12;break}return s["a"].success("\u64cd\u4f5c\u6210\u529f"),e.next=10,c({type:"tableData",payload:{pageNum:1,pageSize:10}});case 10:e.next=13;break;case 12:s["a"].error(o.message);case 13:case"end":return e.stop()}},e)}),tableData:u.a.mark(function(e,t){var a,r,n,s,c;return u.a.wrap(function(u){while(1)switch(u.prev=u.next){case 0:return a=e.payload,r=t.call,n=t.put,t.select,u.next=4,r(p["c"].listPage,a);case 4:return s=u.sent,c=s.data.records.map(function(e,t){return e.num=t+1,e}),u.next=8,n({type:"updateSate",payload:{tableData:c,pageNation:{pageSize:parseInt(s.data.size),total:parseInt(s.data.total),current:parseInt(s.data.current),disabled:!1}}});case 8:case"end":return u.stop()}},c)}),search:u.a.mark(function e(t,a){var r,n,s,c,o;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,s=a.put,a.select,e.next=4,n(p["c"].list,r);case 4:return c=e.sent,o=c.data.records.map(function(e,t){return e.num=t+1,e}),e.next=8,s({type:"updateSate",payload:{tableData:o,pageNation:{pageSize:20,total:10,current:1,disabled:!0}}});case 8:case"end":return e.stop()}},e)}),remove:u.a.mark(function e(t,a){var r,n,c,o,i,l;return u.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.payload,n=a.call,c=a.put,o=a.select,e.next=4,n(p["c"].remove,r);case 4:if(i=e.sent,2e3!==i.code){e.next=14;break}return s["a"].success("\u64cd\u4f5c\u6210\u529f"),e.next=9,o(function(e){return e.lesseeDevice.tableData.filter(function(e){return e.id!==r.id})});case 9:return l=e.sent,e.next=12,c({type:"updateSate",payload:{tableData:l}});case 12:e.next=15;break;case 14:s["a"].error(i.message);case 15:case"end":return e.stop()}},e)})},reducers:{updateSate:function(e,t){var a=t.payload;return n()({},e,a)}}}}}]);