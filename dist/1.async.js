(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{LI2d:function(a,e,t){"use strict";t.r(e);var n=t("mK77"),r=t.n(n),c=t("Ico4"),s=t.n(c),o=(t("NXoX"),t("pm8W")),u=t("Nlzp"),p=t("7Qib");e["default"]={namespace:"dataDashboard",state:{tableData:[],detailData:[],selectedData:[],pageNation:{pageSize:10,total:"",current:1},flowStatus:-1},subscriptions:{},effects:{genExpertTask:s.a.mark(function a(e,t){var n,r,c,l;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.call,t.put,t.select,c=Object.assign({},{taskId:n.taskId},{remark:n.remark}),a.next=5,r(u["b"].genExpertTask,c);case 5:l=a.sent,2e3===l.code?(o["a"].success("\u64cd\u4f5c\u6210\u529f"),p["f"].replace({pathname:n.location.pathname,query:Object.assign({},n.location.query,{flowStatus:1})})):o["a"].error(l.message);case 7:case"end":return a.stop()}},a)}),approveTask:s.a.mark(function a(e,t){var n,r,c,l,d;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.call,c=t.put,t.select,l={status:n.status,taskId:n.taskId},a.next=5,r(u["b"].approveTask,l);case 5:if(d=a.sent,2e3!==d.code){a.next=13;break}return o["a"].success("\u64cd\u4f5c\u6210\u529f"),a.next=10,c({type:"tableData",payload:{pageNum:1,pageSize:20}});case 10:p["f"].replace({pathname:n.location.pathname,query:Object.assign({},n.location.query,{flowStatus:"3.5"})}),a.next=14;break;case 13:o["a"].error(d.message);case 14:case"end":return a.stop()}},a)}),updateFlowStatus:s.a.mark(function a(e,t){var n,r,c;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.call,t.put,t.select,a.next=4,r(u["b"].updateFlowStatus,n);case 4:c=a.sent,2e3===c.code?o["a"].success("\u64cd\u4f5c\u6210\u529f"):o["a"].error(c.message);case 6:case"end":return a.stop()}},a)}),tableData:s.a.mark(function(a,e){var t,n,r,c,o;return s.a.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return t=a.payload,n=e.call,r=e.put,e.select,s.next=4,n(u["b"].listPage,t);case 4:return c=s.sent,o=c.data.records.map(function(a,e){var t=[{type:0,label:"\u6570\u636e\u6821\u6b63"},{type:0,label:"\u6570\u636e\u68c0\u6d4b"}];return a.dataPurposeText=t.filter(function(e){return e.value===a.dataType})[0].label,a.num=e+1,a}),s.next=8,r({type:"updateSate",payload:{tableData:o,total:c.data.total,pageNation:{pageSize:parseInt(c.data.size),total:parseInt(c.data.total),current:parseInt(c.data.current),disabled:!1}}});case 8:case"end":return s.stop()}},o)}),detailData:s.a.mark(function(a,e){var t,n,r,c,o,p;return s.a.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return t=a.payload,n=e.call,r=e.put,e.select,c={pageNum:t.pageNum,pageSize:t.pageSize,dataBatch:t.dataBatch,deviceCode:t.deviceCode,dataType:t.dataType},s.next=5,n(u["a"].vocListPage,c);case 5:return o=s.sent,p=o.data.records.map(function(a,e){return 1===a.calibratedStatus&&(a.casCode="".concat(a.casCode,"\uff08\u4e13\u5bb6\u6821\u6b63\uff09")),a.boundaryRange="".concat(a.lowBoundary,"~").concat(a.highBoundary),a.arrowType="",a.concentration<a.lowBoundary&&(a.arrowType="arrow-down"),a.concentration>a.highBoundary&&(a.arrowType="arrow-up"),a.expertConcentration&&(a.concentration="".concat(a.concentration,"\uff08").concat(a.expertConcentration,"\uff09")),a.selected=0===e?1:0,a}),s.next=9,r({type:"updateSate",payload:{detailData:p,selectedData:[p[0]],flowStatus:t.flowStatus,pageNation:{pageSize:parseInt(o.data.size),total:parseInt(o.data.total),current:parseInt(o.data.current),disabled:!1}}});case 9:case"end":return s.stop()}},p)}),selectedDetailData:s.a.mark(function a(e,t){var n,r,c,o,u;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,t.call,r=t.put,c=t.select,a.next=4,c(function(a){return a.dataDashboard.detailData.map(function(a){return a.selected=a.id===n.id?1:0,a})});case 4:return o=a.sent,u=o.filter(function(a){return a.id===n.id}),a.next=8,r({type:"updateSate",payload:{detailData:o,selectedData:u}});case 8:case"end":return a.stop()}},a)}),search:s.a.mark(function a(e,t){var n,r,c,o,p;return s.a.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.payload,r=t.call,c=t.put,t.select,a.next=4,r(u["b"].listPage,n);case 4:return o=a.sent,p=o.data.records.map(function(a,e){return a.num=e+1,a}),a.next=8,c({type:"updateSate",payload:{tableData:p,pageNation:{pageSize:20,total:10,current:1,disabled:!0}}});case 8:case"end":return a.stop()}},a)})},reducers:{updateSate:function(a,e){var t=e.payload;return r()({},a,t)}}}}}]);